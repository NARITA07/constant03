<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.constant01.mapper.ReleaseMapper">
  
  <select id="boarddetail" resultType="com.constant01.model.BoardDTO">
  select * from board
  where productcode=#{productcode};
  
  
  </select>
  
   <select id="boardpage" resultType="com.constant01.model.BoardDTO">
    
      select *
			from( 
				select @rownum:=@rownum+1 rownum, b.*
				from board b, (select @rownum:=0) as tmp
				
			    order by bno desc
			) as boardlist
			<![CDATA[
			where rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount}
			]]> 
    </select>
    
    <select id="boardpage2" resultType="com.constant01.model.BoardDTO">
    
      select *
			from( 
				select @rownum:=@rownum+1 rownum, b.*
				from board b , (select @rownum:=0) as tmp
				where classificationcode= 'a'
				
			    order by bno desc
			   
			) as boardlist2
			 
			<![CDATA[
			where (rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount})
						]]>
    </select>
    
    <select id="boardpage3" resultType="com.constant01.model.BoardDTO">
    
      select *
			from( 
				select @rownum:=@rownum+1 rownum, b.*
				from board b, (select @rownum:=0) as tmp
				where classificationcode= 'b'
			    order by bno desc
			) as boardlist
			<![CDATA[
			where rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount}
			]]>
    </select>
    
    <select id="boardpage4" resultType="com.constant01.model.BoardDTO">
    
      select *
			from( 
				select @rownum:=@rownum+1 rownum, b.*
				from board b, (select @rownum:=0) as tmp
				
				
				where classificationcode= 'c'
			    order by bno desc
			) as boardlist
			<![CDATA[
			where rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount}
			]]>
    </select>
    
    <select id="boardpage5" resultType="com.constant01.model.BoardDTO">
    
      select *
			from( 
				select @rownum:=@rownum+1 rownum, b.*
				from board b, (select @rownum:=0) as tmp
				where classificationcode= 'd'
			    order by bno desc
			) as boardlist
			<![CDATA[
			where rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount}
			]]>
    </select>
    
    <select id="getTotal" resultType="int">
    
        select count(*) from board
    
    </select>
    <select id="getTotal2" resultType="int">
    
        select count(*) from board where classificationcode= 'a'
    
    </select>
    
    <select id="getTotal3" resultType="int">
    
        select count(*) from board  where classificationcode= 'b'
    
    </select>
    
    <select id="getTotal4" resultType="int">
    
        select count(*) from board  where classificationcode= 'c'
    
    </select>
    
    <select id="getTotal5" resultType="int">
    
        select count(*) from board  where classificationcode= 'd'
    
    </select>
  
  
  
   <select id="orderlist" resultType="com.constant01.model.cartVO">
    
      select *
			from( 
				select @rownum:=@rownum+1 rownum, b.*
				from cartorder b, (select @rownum:=0) as tmp
				where m_userId=#{m_userId}
			    order by no desc
			) as orderlist
			<![CDATA[
			where rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount}
			]]> 
    </select>
  
  <select id="getTotal_order" resultType="int">
    
        select count(*) from cartorder
    
    </select>
  
  </mapper>